

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial - Internationalization of React apps &mdash; LinguiJS  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Common i18n patterns in React" href="react-patterns.html" />
    <link rel="prev" title="Setup with React project" href="setup-react.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-52365043-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-52365043-2');
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> LinguiJS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="setup-cra.html">Create React App</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup-react.html">React project</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">React</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#let-s-start">Let’s Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-linguijs">Installing LinguiJS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introducing-internationalization">Introducing internationalization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#macros-vs-components">Macros vs. Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extracting-messages">Extracting messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summary-of-basic-workflow">Summary of basic workflow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#formatting">Formatting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jsx-to-messageformat-transformations">JSX to MessageFormat transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#message-id">Message ID</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#plurals">Plurals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#english-plural-rules">English plural rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#beware-of-zeroes">Beware of zeroes!</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exact-forms">Exact forms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#variables-and-components">Variables and components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-message-id">Custom message ID</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#formats">Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="#review">Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="#further-reading">Further reading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="react-patterns.html">React - common patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="react-native.html">React Native</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html">JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/typescript.html">Typescript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/excluding-build-files.html">Excluding build files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/dynamic-loading-catalogs.html">Dynamic loading of translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/optimized-components.html">Optimized components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/plurals.html">How plurals work</a></li>
</ul>
<p class="caption"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ref/core.html">Core (JavaScript)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/react.html">React</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/macro.html">Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/conf.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/loader.html">Webpack Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/catalog-formats.html">Catalog Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/message-format.html">ICU MessageFormat</a></li>
</ul>
<p class="caption"><span class="caption-text">Releases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/migration-2.html">Migration from 1.x to 2.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/migration-1.html">Migration from 0.x to 1.x</a></li>
</ul>
<p class="caption"><span class="caption-text">Discussion</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/showroom.html">Projects using LinguiJS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/react-intl.html">Comparison with react-intl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/talks-about-i18n.html">Talks and articles about i18n in JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rfc/toc.html">RFCs and design decisions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LinguiJS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Tutorial - Internationalization of React apps</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/lingui/js-lingui/blob/master/docs/tutorials/react.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial-internationalization-of-react-apps">
<span id="react-tutorial-label"></span><h1>Tutorial - Internationalization of React apps<a class="headerlink" href="#tutorial-internationalization-of-react-apps" title="Permalink to this headline">¶</a></h1>
<p>Through this tutorial, we’ll learn how to add internationalization
to an existing application in React JS.</p>
<div class="section" id="let-s-start">
<h2>Let’s Start<a class="headerlink" href="#let-s-start" title="Permalink to this headline">¶</a></h2>
<p>We’re going to translate the following app:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="c1">// index.js</span>
<span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">render</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-dom&#39;</span>
<span class="kr">import</span> <span class="nx">Inbox</span> <span class="nx">from</span> <span class="s1">&#39;./Inbox.js&#39;</span>

<span class="kr">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">&lt;</span><span class="nt">Inbox</span> <span class="p">/&gt;</span>

<span class="nx">render</span><span class="p">(&lt;</span><span class="nt">App</span> <span class="p">/&gt;,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="c1">// Inbox.js</span>
<span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>

<span class="kr">const</span> <span class="nx">Inbox</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">messages</span><span class="p">,</span> <span class="nx">markAsRead</span><span class="p">,</span> <span class="nx">user</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
   <span class="kr">const</span> <span class="nx">messagesCount</span> <span class="o">=</span> <span class="nx">messages</span><span class="p">.</span><span class="nx">length</span>
   <span class="kr">const</span> <span class="p">{</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">lastLogin</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">user</span>

   <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
          <span class="nx">See</span> <span class="nx">all</span> <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">to</span><span class="o">=</span><span class="s">&quot;/unread&quot;</span><span class="p">&gt;</span><span class="nx">unread</span> <span class="nx">messages</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;{</span><span class="s2">&quot; or &quot;</span><span class="p">}</span>
          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">markAsRead</span><span class="p">}&gt;</span><span class="nx">mark</span> <span class="nx">them</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="nx">as</span> <span class="nx">read</span><span class="p">.</span>
        <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
          <span class="p">{</span>
            <span class="nx">messagesCount</span> <span class="o">===</span> <span class="mi">1</span>
              <span class="o">?</span> <span class="sb">`There&#39;s </span><span class="si">${</span><span class="nx">messagesCount</span><span class="si">}</span><span class="sb"> message in your inbox.`</span>
              <span class="o">:</span> <span class="sb">`There&#39;re </span><span class="si">${</span><span class="nx">messagesCount</span><span class="si">}</span><span class="sb"> messages in your inbox.`</span>
          <span class="p">}</span>
        <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
          <span class="nx">Last</span> <span class="nx">login</span> <span class="nx">on</span> <span class="p">{</span><span class="nx">lastLogin</span><span class="p">}.</span>
        <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   <span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As you can see, it’s a simple mailbox application with only one page.</p>
</div>
<div class="section" id="installing-linguijs">
<h2>Installing LinguiJS<a class="headerlink" href="#installing-linguijs" title="Permalink to this headline">¶</a></h2>
<p>Follow setup guide either for projects using <a class="reference internal" href="setup-cra.html"><span class="doc">LinguiJS with Create React App</span></a>
or for general <a class="reference internal" href="setup-react.html"><span class="doc">React projects</span></a>.</p>
</div>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>We will directly start translating the <code class="docutils literal notranslate"><span class="pre">Inbox</span></code> component, but we need
to complete one more step to setup our application.</p>
<p>Components needs to be aware of their active language. All <a class="reference external" href="https://github.com/lingui/js-lingui">LinguiJS</a> components
read translations and language settings from the React context. In order to get this
information into the context, we need to wrap our application in
<a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a> component.</p>
<p>Let’s add all required imports and wrap our app inside <a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a>:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="c1">// index.js</span>
<span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">render</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-dom&#39;</span>
<span class="kr">import</span> <span class="nx">Inbox</span> <span class="nx">from</span> <span class="s1">&#39;./Inbox.js&#39;</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">I18nProvider</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/react&#39;</span>

<span class="kr">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="p">&lt;</span><span class="nt">I18nProvider</span> <span class="na">language</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Inbox</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">I18nProvider</span><span class="p">&gt;</span>
<span class="p">)</span>

<span class="nx">render</span><span class="p">(&lt;</span><span class="nt">App</span> <span class="p">/&gt;,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You might be wondering: how are we going to change the active language?
Yes, that’s a great question, but we need to focus! We’re not going to change
the language unless we have translated the message catalog. And we won’t have
translated the catalog before we extract all messages from source.</p>
<p>Let’s deal with language switching later… but if you’re still curious,
take a look at <a class="reference internal" href="../guides/dynamic-loading-catalogs.html#dynamic-loading-catalogs"><span class="std std-ref">example</span></a> with Redux and Webpack.</p>
</div>
</div>
<div class="section" id="introducing-internationalization">
<h2>Introducing internationalization<a class="headerlink" href="#introducing-internationalization" title="Permalink to this headline">¶</a></h2>
<p>Now we’re finally going to <em>translate</em> our app. Actually, we aren’t going
to <em>translate</em> from one language to another right now. Instead, we’re going to
<em>prepare</em> our app for translation. This process is called
<em>internationalization</em> and you should practice saying this word aloud until
you’re able to say it three times very quickly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>From now on, <em>internationalization</em> will be shortened to a common numeronym <em>i18n</em>.</p>
</div>
<p>Let’s start with the basics - static messages. These messages don’t have any variables,
HTML or components inside. Just some text:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>All we need to make this heading translatable is wrap it in <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a>
macro:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Trans</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/macro&#39;</span><span class="p">;</span>

<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="section" id="macros-vs-components">
<h3>Macros vs. Components<a class="headerlink" href="#macros-vs-components" title="Permalink to this headline">¶</a></h3>
<p>If you’re wondering what are macros and what’s the difference between macros and
components, this short paragraph is for you.</p>
<p>In general, macros are executed at compile time and they transform source code in
some way. We use this feature in <a class="reference external" href="https://github.com/lingui/js-lingui">LinguiJS</a> to simplify writing messages.</p>
<p>Under the hood, all JSX macros are transformed into <a class="reference internal" href="../ref/react.html#component-Trans">&lt;Trans&gt;</a> component.
Take a look at this short example. This is what we write:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Trans</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/macro&#39;</span>

<span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">name</span><span class="p">}&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>And this is how the code is transformed:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Trans</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/react&#39;</span>

<span class="p">&lt;</span><span class="nt">Trans</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;Hello {name}&quot;</span> <span class="na">values</span><span class="o">=</span><span class="p">{{</span> <span class="nx">name</span> <span class="p">}}</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<p>See the difference? <a class="reference internal" href="../ref/react.html#component-Trans">&lt;Trans&gt;</a> component receives <code class="docutils literal notranslate"><span class="pre">id</span></code> prop with a message
in ICU MessageFormat syntax. We could write it manually, but it’s just easier
and shorter to write JSX as we’re used to and let macros to generate message for
ourselves.</p>
</div>
<div class="section" id="extracting-messages">
<h3>Extracting messages<a class="headerlink" href="#extracting-messages" title="Permalink to this headline">¶</a></h3>
<p>Back to our project. It’s nice to use JSX and let macros generate messages under the
hood. Let’s check that it actually works correctly.</p>
<p>All messages from the source code must be extracted into external message catalogs.
Message catalogs are interchange files between developers and translators. We’re
going to have one file per language. Let’s enter command line for a while.</p>
<p>We’re going to use <cite>CLI</cite> again. Run <a class="reference internal" href="../ref/cli.html#lingui-cli-extract"><code class="xref std std-cli docutils literal notranslate"><span class="pre">extract</span></code></a> command to extract messages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lingui extract

No locales defined!

(use &quot;lingui add-locale &lt;language&gt;&quot; to add one)
</pre></div>
</div>
<p>Oops! Seems we forgot something. First we need to tell the CLI what locales we’re
going to use in our app. Let’s start with two locales: <code class="docutils literal notranslate"><span class="pre">en</span></code> for English and <code class="docutils literal notranslate"><span class="pre">cs</span></code>
for Czech:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lingui add-locale en cs

Added locale en.
Added locale cs.

(use &quot;lingui extract&quot; to extract messages)
</pre></div>
</div>
<p>Everything went well and CLI guides us what to do next. Let’s run <a class="reference internal" href="../ref/cli.html#lingui-cli-extract"><code class="xref std std-cli docutils literal notranslate"><span class="pre">extract</span></code></a> command
again:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lingui extract

Catalog statistics:
┌──────────┬─────────────┬─────────┐
│ Language │ Total count │ Missing │
├──────────┼─────────────┼─────────┤
│ cs       │      1      │    1    │
│ en       │      1      │    1    │
└──────────┴─────────────┴─────────┘

(use &quot;lingui add-locale &lt;language&gt;&quot; to add more locales)
(use &quot;lingui extract&quot; to update catalogs with new messages)
(use &quot;lingui compile&quot; to compile catalogs for production)
</pre></div>
</div>
<p>Nice! It seems it worked, we have two message catalogs (one per each locale) with
1 message each. Let’s take a look at file <code class="docutils literal notranslate"><span class="pre">locale/cs/messages.json</span></code></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;Message Inbox&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>That’s the message we’ve wrapped inside <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> macro!</p>
<p>Let’s add a Czech translation:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;Message Inbox&quot;</span><span class="p">:</span> <span class="s2">&quot;Příchozí zprávy&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If we run <a class="reference internal" href="../ref/cli.html#lingui-cli-extract"><code class="xref std std-cli docutils literal notranslate"><span class="pre">extract</span></code></a> command again, we’ll see that all Czech messages are translated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lingui extract

Catalog statistics:
┌──────────┬─────────────┬─────────┐
│ Language │ Total count │ Missing │
├──────────┼─────────────┼─────────┤
│ cs       │      1      │    0    │
│ en       │      1      │    1    │
└──────────┴─────────────┴─────────┘

(use &quot;lingui add-locale &lt;language&gt;&quot; to add more locales)
(use &quot;lingui extract&quot; to update catalogs with new messages)
(use &quot;lingui compile&quot; to compile catalogs for production)
</pre></div>
</div>
<p>That’s great! So, how we’re going to load it into your app? <a class="reference external" href="https://github.com/lingui/js-lingui">LinguiJS</a> introduces
concept of compiled message catalogs. Before we load messages into your app, we need
to compile them. As you see in the help in command output, we use <a class="reference internal" href="../ref/cli.html#lingui-cli-compile"><code class="xref std std-cli docutils literal notranslate"><span class="pre">compile</span></code></a> for that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lingui compile

Compiling message catalogs…
Done!
</pre></div>
</div>
<p>What just happened? If you look inside <code class="docutils literal notranslate"><span class="pre">locales</span></code> directory, you’ll see there’s a
new file for each locale: <code class="docutils literal notranslate"><span class="pre">messages.js</span></code>. This file contains compiled message catalogs
but also any locale specific data like plurals.</p>
<p>Let’s load this file into our app and set active language to <code class="docutils literal notranslate"><span class="pre">cs</span></code>:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="c1">// index.js</span>
<span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">render</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-dom&#39;</span>
<span class="kr">import</span> <span class="nx">Inbox</span> <span class="nx">from</span> <span class="s1">&#39;./Inbox.js&#39;</span>
<span class="hll"><span class="kr">import</span> <span class="nx">catalogCs</span> <span class="nx">from</span> <span class="s1">&#39;./locales/cs/messages.js&#39;</span>
</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">I18nProvider</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/react&#39;</span>

<span class="kr">const</span> <span class="nx">catalogs</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">cs</span><span class="o">:</span> <span class="nx">catalogCs</span> <span class="p">};</span>
<span class="hll"><span class="kr">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">(</span>
</span>  <span class="p">&lt;</span><span class="nt">I18nProvider</span> <span class="na">language</span><span class="o">=</span><span class="s">&quot;cs&quot;</span> <span class="na">catalogs</span><span class="o">=</span><span class="p">{</span><span class="nx">catalogs</span><span class="p">}&gt;</span>
    <span class="p">&lt;</span><span class="nt">Inbox</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">I18nProvider</span><span class="p">&gt;</span>
<span class="p">)</span>

<span class="nx">render</span><span class="p">(&lt;</span><span class="nt">App</span> <span class="p">/&gt;,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>When we run the app, we see the header is translated into Czech.</p>
</div>
<div class="section" id="summary-of-basic-workflow">
<h3>Summary of basic workflow<a class="headerlink" href="#summary-of-basic-workflow" title="Permalink to this headline">¶</a></h3>
<p>Let’s go through the workflow again:</p>
<ol class="arabic simple">
<li><p>Add an <a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a>, this component sets the active language and loads catalogs</p></li>
<li><p>Wrap messages in <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> macro</p></li>
<li><p>Run <a class="reference internal" href="../ref/cli.html#lingui-cli-extract"><code class="xref std std-cli docutils literal notranslate"><span class="pre">extract</span></code></a> command to generate message catalogs</p></li>
<li><p>Translate message catalogs (send them to translators usually)</p></li>
<li><p>Run <a class="reference internal" href="../ref/cli.html#lingui-cli-compile"><code class="xref std std-cli docutils literal notranslate"><span class="pre">compile</span></code></a> to create runtime catalogs</p></li>
<li><p>Load runtime catalog</p></li>
<li><p>Profit</p></li>
</ol>
<p>Steps 1 and 7 needs to be done only once per project and locale. Steps 2 to 5 becomes
the common workflow how to internationalize the app.</p>
<p>It isn’t necessary to extract/translate messages one by one. This usually happens
in batches. When you finalizing your work or PR, run <a class="reference internal" href="../ref/cli.html#lingui-cli-extract"><code class="xref std std-cli docutils literal notranslate"><span class="pre">extract</span></code></a> to generate latest
message catalogs and before building the app for production, run <a class="reference internal" href="../ref/cli.html#lingui-cli-compile"><code class="xref std std-cli docutils literal notranslate"><span class="pre">compile</span></code></a>.</p>
<p>For more info about CLI, checkout the <a class="reference internal" href="cli.html#tutorial-cli"><span class="std std-ref">CLI tutorial</span></a>.</p>
</div>
</div>
<div class="section" id="formatting">
<h2>Formatting<a class="headerlink" href="#formatting" title="Permalink to this headline">¶</a></h2>
<p>Let’s move on to another paragraph in our project. This paragraph has some
variables, some HTML and components inside:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
   <span class="nx">See</span> <span class="nx">all</span> <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">to</span><span class="o">=</span><span class="s">&quot;/unread&quot;</span><span class="p">&gt;</span><span class="nx">unread</span> <span class="nx">messages</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;{</span><span class="s2">&quot; or &quot;</span><span class="p">}</span>
   <span class="p">&lt;</span><span class="nt">a</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">markAsRead</span><span class="p">}&gt;</span><span class="nx">mark</span> <span class="nx">them</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="nx">as</span> <span class="nx">read</span><span class="p">.</span>
<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Although it looks complex, there’s really nothing special here. Just wrap the content
of paragraph in <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> and let the macro do the magic:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span>
      See all <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">to</span><span class="o">=</span><span class="s">&quot;/unread&quot;</span><span class="p">&gt;</span>unread messages<span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>{&quot; or &quot;}
      <span class="p">&lt;</span><span class="nt">a</span> <span class="na">onClick</span><span class="o">=</span><span class="s">{markAsRead}</span><span class="p">&gt;</span>mark them<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> as read.
   <span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Spooky, right? Let’s see how this message actually looks in message catalog.
Run <a class="reference internal" href="../ref/cli.html#lingui-cli-extract"><code class="xref std std-cli docutils literal notranslate"><span class="pre">extract</span></code></a> command and take a look at the message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">See</span> <span class="nb">all</span> <span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="n">unread</span> <span class="n">messages</span><span class="o">&lt;/</span><span class="mi">0</span><span class="o">&gt;</span> <span class="ow">or</span> <span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="n">mark</span> <span class="n">them</span><span class="o">&lt;/</span><span class="mi">1</span><span class="o">&gt;</span> <span class="k">as</span> <span class="n">read</span><span class="o">.</span>
</pre></div>
</div>
<p>You may notice that components and html tags are replaced with indexed
tags (<cite>&lt;0&gt;</cite>, <cite>&lt;1&gt;</cite>). This is a little extension to the ICU MessageFormat which
allows rich-text formatting inside translations. Components and their props
remains in the source code and don’t scare our translators. Also, in case we
change a <code class="docutils literal notranslate"><span class="pre">className</span></code>, we don’t need to update our message catalogs. How
cool is that?</p>
<div class="section" id="jsx-to-messageformat-transformations">
<h3>JSX to MessageFormat transformations<a class="headerlink" href="#jsx-to-messageformat-transformations" title="Permalink to this headline">¶</a></h3>
<p>It may look a bit <em>hackish</em> at first sight, but these transformations are
actually very easy, intuitive and feel very <em>Reactish</em>. We don’t have to think
about the MessageFormat, because it’s created by the library. We write our
components in the same way as we’re used to and simply wrap text in
<a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> macro.</p>
<p>Let’s see some examples with MessageFormat equivalents:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="c1">// Expressions</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">name</span><span class="p">}&lt;/</span><span class="nt">Trans</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="c1">// Hello {name}</span>
</pre></div>
</div>
<p>Any expressions are allowed, not just simple variables. The only difference is,
the variable name won’t be included in the extracted message:</p>
<p>Simple variable -&gt; named argument:</p>
<blockquote>
<div><div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">name</span><span class="p">}&lt;/</span><span class="nt">Trans</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="c1">// Hello {name}</span>
</pre></div>
</div>
</div></blockquote>
<p>Any expression -&gt; positional argument:</p>
<blockquote>
<div><div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">}&lt;/</span><span class="nt">Trans</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="c1">// Hello {0}</span>
</pre></div>
</div>
</div></blockquote>
<p>Object, arrays, function calls -&gt; positional argument:</p>
<blockquote>
<div><div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">The</span> <span class="nx">random</span> <span class="nx">number</span> <span class="nx">is</span> <span class="p">{</span><span class="nb">Math</span><span class="p">.</span><span class="nx">rand</span><span class="p">()}&lt;/</span><span class="nt">Trans</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="c1">// The random number is {0}</span>
</pre></div>
</div>
</div></blockquote>
<p>Components might get tricky, but like we saw, it’s really easy:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Read</span> <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/more&quot;</span><span class="p">&gt;</span><span class="nx">more</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;.&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
<span class="c1">// Read &lt;0&gt;more&lt;/0&gt;.</span>
</pre></div>
</div>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span>
   <span class="nx">Dear</span> <span class="nx">Watson</span><span class="p">,&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>
   <span class="nx">it</span><span class="s1">&#39;s not exactly what I had in my mind.</span>
<span class="s1">&lt;/Trans&gt;</span>
<span class="s1">// Dead Watson,&lt;0/&gt;it&#39;</span><span class="nx">s</span> <span class="nx">not</span> <span class="nx">exactly</span> <span class="nx">what</span> <span class="nx">I</span> <span class="nx">had</span> <span class="k">in</span> <span class="nx">my</span> <span class="nx">mind</span><span class="p">.</span>
</pre></div>
</div>
<p>Obviously, you can also shoot yourself in the foot. Some expressions are <em>valid</em>
and won’t throw any error, it doesn’t make any sense to write:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="c1">// Oh, seriously?</span>
<span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span>
   <span class="p">{</span><span class="nx">isOpen</span> <span class="o">&amp;&amp;</span> <span class="p">&lt;</span><span class="nt">Modal</span> <span class="p">/&gt;}</span>
<span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Everytime you’re in doubt, imagine how the final message should look like.</p>
</div>
<div class="section" id="message-id">
<h3>Message ID<a class="headerlink" href="#message-id" title="Permalink to this headline">¶</a></h3>
<p>At this point we’re going to explain what message ID is and how to set it manually.</p>
<p>Translators work with the <em>message catalogs</em> we saw above. No matter what format
we use (gettext, xliff, json), it’s just mapping of
message ID to the translation.</p>
<p>Here’s an example of simple message catalog in <strong>Czech</strong> language:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Message ID</p></th>
<th class="head"><p>Translation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Monday</p></td>
<td><p>Pondělí</p></td>
</tr>
<tr class="row-odd"><td><p>Tuesday</p></td>
<td><p>Úterý</p></td>
</tr>
<tr class="row-even"><td><p>Wednesday</p></td>
<td><p>Středa</p></td>
</tr>
</tbody>
</table>
<p>… and the same catalog in <strong>French</strong> language:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Message ID</p></th>
<th class="head"><p>Translation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Monday</p></td>
<td><p>Lundi</p></td>
</tr>
<tr class="row-odd"><td><p>Tuesday</p></td>
<td><p>Mardi</p></td>
</tr>
<tr class="row-even"><td><p>Wednesday</p></td>
<td><p>Mercredi</p></td>
</tr>
</tbody>
</table>
<p>The message ID is <em>what all catalogs have in common</em> – Lundi and Pondělí
represent the same message in different languages. It’s also the same as the <code class="docutils literal notranslate"><span class="pre">id</span></code>
prop in <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> macro.</p>
<p>There are two common approaches to message IDs:</p>
<ol class="arabic simple">
<li><p>Use source language (e.g. English as in example above)</p></li>
<li><p>Use a custom key (e.g. <code class="docutils literal notranslate"><span class="pre">weekday.monday</span></code>)</p></li>
</ol>
<p>Both approaches have their pros and cons and it’s not in the scope of this tutorial
to compare them.</p>
<p>By default, <a class="reference external" href="https://github.com/lingui/js-lingui">LinguiJS</a> generates message ID from the content of <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a>
macro, which means it uses source language. However, we can easily override
it by setting <code class="docutils literal notranslate"><span class="pre">id</span></code> prop manually:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;&lt;</span><span class="nt">Trans</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;inbox.title&quot;</span><span class="p">&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>This will generate:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;&lt;</span><span class="nt">Trans</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;inbox.title&quot;</span> <span class="na">defaults</span><span class="o">=</span><span class="s">&quot;Message Inbox&quot;</span> <span class="p">/&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>In our message catalog, we’ll see <code class="docutils literal notranslate"><span class="pre">inbox.title</span></code> as message ID, but we also
get <code class="docutils literal notranslate"><span class="pre">Message</span> <span class="pre">Inbox</span></code> as default translation for English language.</p>
<p>For the rest of this tutorial, we’ll use auto-generated message IDs to keep
it simple.</p>
</div>
</div>
<div class="section" id="plurals">
<h2>Plurals<a class="headerlink" href="#plurals" title="Permalink to this headline">¶</a></h2>
<p>Let’s move on and add i18n to another text in our component:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
   <span class="p">{</span>
      <span class="nx">messagesCount</span> <span class="o">===</span> <span class="mi">1</span>
         <span class="o">?</span> <span class="s2">&quot;There&#39;s {messagesCount} message in your inbox.&quot;</span>
         <span class="o">:</span> <span class="s2">&quot;There&#39;re {messagesCount} messages in your inbox.&quot;</span>
   <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>This message is a bit special, because it depends on the value of the <code class="docutils literal notranslate"><span class="pre">messagesCount</span></code>
variable. Most languages use different forms of words when describing quantities
- this is called <a class="reference external" href="https://en.wikipedia.org/wiki/Plural">pluralization</a>.</p>
<p>What’s tricky is that different languages use different number of plural forms.
For example, English has only two forms - singular and plural - as we can see
in the example above. However, Czech language has three plural forms. Some
languages have up to 6 plural forms and some don’t have plurals at all!</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Plural forms for all languages can be found in the
<a class="reference external" href="http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html">CLDR repository</a>.</p>
</div>
<div class="section" id="english-plural-rules">
<h3>English plural rules<a class="headerlink" href="#english-plural-rules" title="Permalink to this headline">¶</a></h3>
<p>How do we know which plural form we should use? It’s very simple:
we, as developers, only need to know plural forms of the language we use in
our source. Our component is written in English, so looking at
<a class="reference external" href="http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html#en">English plural rules</a> we’ll
need just two forms:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">one</span></code></dt><dd><p>Singular form</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">other</span></code></dt><dd><p>Plural form</p>
</dd>
</dl>
<p>We don’t need to select these forms manually. We’ll use <a class="reference internal" href="../ref/macro.html#jsxmacro-Plural">&lt;Plural&gt;</a>
component, which takes a <code class="docutils literal notranslate"><span class="pre">value</span></code> prop and based on the active language, selects
the right plural form:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">Plural</span>
      <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">messagesCount</span><span class="p">}</span>
      <span class="na">one</span><span class="o">=</span><span class="s">&quot;There&#39;s # message in your inbox&quot;</span>
      <span class="na">other</span><span class="o">=</span><span class="s">&quot;There&#39;re # messages in your inbox&quot;</span>
   <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>This component will render <code class="docutils literal notranslate"><span class="pre">There's</span> <span class="pre">1</span> <span class="pre">message</span> <span class="pre">in</span> <span class="pre">your</span> <span class="pre">inbox</span></code> when
<code class="docutils literal notranslate"><span class="pre">messageCount</span> <span class="pre">=</span> <span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">There're</span> <span class="pre">#</span> <span class="pre">messages</span> <span class="pre">in</span> <span class="pre">your</span> <span class="pre">inbox</span></code> for any other
values of <code class="docutils literal notranslate"><span class="pre">messageCount</span></code>. <code class="docutils literal notranslate"><span class="pre">#</span></code> is a placeholder, which is replaced with <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>Cool! Curious how this component is transformed under the hood and how the
message looks in MessageFormat syntax? Run <a class="reference internal" href="../ref/cli.html#lingui-cli-extract"><code class="xref std std-cli docutils literal notranslate"><span class="pre">extract</span></code></a> command and find out by
yourself:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">messagesCount</span><span class="p">,</span> <span class="n">plural</span><span class="p">,</span>
   <span class="n">one</span> <span class="p">{</span><span class="n">There</span><span class="s1">&#39;s # message in your inbox}</span>
   <span class="n">other</span> <span class="p">{</span><span class="n">There</span><span class="s1">&#39;re # messages in your inbox}}</span>
</pre></div>
</div>
<p>In catalog you’ll see the message in one line. Here we wrapped it to make it more readable.</p>
<p>The <a class="reference internal" href="../ref/macro.html#jsxmacro-Plural">&lt;Plural&gt;</a> is gone and replaced with <a class="reference internal" href="../ref/react.html#component-Trans">&lt;Trans&gt;</a> again!
The sole purpose of <a class="reference internal" href="../ref/macro.html#jsxmacro-Plural">&lt;Plural&gt;</a> is to generate proper syntax in message.</p>
<p>Things are getting a bit more complicated, but i18n is a complex process. At
least we don’t have to write this message manually!</p>
</div>
<div class="section" id="beware-of-zeroes">
<h3>Beware of zeroes!<a class="headerlink" href="#beware-of-zeroes" title="Permalink to this headline">¶</a></h3>
<p>Just a short detour, because it’s a common misunderstanding.</p>
<p>You may wonder, why the following code doesn’t work as expected:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Plural</span>
   <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">messagesCount</span><span class="p">}</span>
   <span class="na">zero</span><span class="o">=</span><span class="s">&quot;There&#39;re no messages&quot;</span>
   <span class="na">one</span><span class="o">=</span><span class="s">&quot;There&#39;s # message in your inbox&quot;</span>
   <span class="na">other</span><span class="o">=</span><span class="s">&quot;There&#39;re # messages in your inbox&quot;</span>
<span class="p">/&gt;</span>
</pre></div>
</div>
<p>This component will render <code class="docutils literal notranslate"><span class="pre">There're</span> <span class="pre">0</span> <span class="pre">messages</span> <span class="pre">in</span> <span class="pre">your</span> <span class="pre">inbox</span></code> for
<code class="docutils literal notranslate"><span class="pre">messagesCount</span> <span class="pre">=</span> <span class="pre">0</span></code>. Why so? Because English doesn’t have <code class="docutils literal notranslate"><span class="pre">zero</span></code>
<a class="reference external" href="http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html#en">plural form</a>.</p>
<p>Looking at <a class="reference external" href="http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html#en">English plural rules</a>, it’s:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 5%" />
<col style="width: 95%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>N</p></th>
<th class="head"><p>Form</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>other</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>one</p></td>
</tr>
<tr class="row-even"><td><p>n</p></td>
<td><p>other (anything else)</p></td>
</tr>
</tbody>
</table>
<p>However, decimal numbers (even <code class="docutils literal notranslate"><span class="pre">1.0</span></code>) use <code class="docutils literal notranslate"><span class="pre">other</span></code> form every time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">There</span><span class="s1">&#39;re 0.0 messages in your inbox.</span>
</pre></div>
</div>
<p>Aren’t languages beautiful?</p>
</div>
<div class="section" id="exact-forms">
<h3>Exact forms<a class="headerlink" href="#exact-forms" title="Permalink to this headline">¶</a></h3>
<p>Alright, back to our example. What if we really want to render <code class="docutils literal notranslate"><span class="pre">There're</span> <span class="pre">no</span> <span class="pre">messages</span></code>
for <code class="docutils literal notranslate"><span class="pre">messagesCount</span> <span class="pre">=</span> <span class="pre">0</span></code>? Exact forms to the rescue!</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Plural</span>
   <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">messagesCount</span><span class="p">}</span>
   <span class="na">_0</span><span class="o">=</span><span class="s">&quot;There&#39;re no messages&quot;</span>
   <span class="na">one</span><span class="o">=</span><span class="s">&quot;There&#39;s # message in your inbox&quot;</span>
   <span class="na">other</span><span class="o">=</span><span class="s">&quot;There&#39;re # messages in your inbox&quot;</span>
<span class="p">/&gt;</span>
</pre></div>
</div>
<p>What’s that <code class="docutils literal notranslate"><span class="pre">_0</span></code>? MessageFormat allows exact forms, like <code class="docutils literal notranslate"><span class="pre">=0</span></code>. However,
React props can’t start with <code class="docutils literal notranslate"><span class="pre">=</span></code> and can’t be numbers either, so we need to
write <code class="docutils literal notranslate"><span class="pre">_N</span></code> instead of <code class="docutils literal notranslate"><span class="pre">=0</span></code>.</p>
<p>It works with any number, so we can go wild and customize it this way:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Plural</span>
   <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">messagesCount</span><span class="p">}</span>
   <span class="na">_0</span><span class="o">=</span><span class="s">&quot;There&#39;re no messages&quot;</span>
   <span class="na">_1</span><span class="o">=</span><span class="s">&quot;There&#39;s one message in your inbox&quot;</span>
   <span class="na">_2</span><span class="o">=</span><span class="s">&quot;There&#39;re two messages in your inbox, that&#39;s not much!&quot;</span>
   <span class="na">other</span><span class="o">=</span><span class="s">&quot;There&#39;re # messages in your inbox&quot;</span>
<span class="p">/&gt;</span>
</pre></div>
</div>
<p>… and so on. Exact matches always take precedence before plural forms.</p>
</div>
<div class="section" id="variables-and-components">
<h3>Variables and components<a class="headerlink" href="#variables-and-components" title="Permalink to this headline">¶</a></h3>
<p>Let’s go back to our original pluralized message:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">Plural</span>
      <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">messagesCount</span><span class="p">}</span>
      <span class="na">one</span><span class="o">=</span><span class="s">&quot;There&#39;s # message in your inbox&quot;</span>
      <span class="na">other</span><span class="o">=</span><span class="s">&quot;There&#39;re # messages in your inbox&quot;</span>
   <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>What if we want to use variables or components inside messages? Easy! Either
wrap messages in <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> macro or use template literals
(suppose we have an variable <code class="docutils literal notranslate"><span class="pre">name</span></code>):</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>&lt;p&gt;
   &lt;Plural
      value={messagesCount}
      one={`There&#39;s # message in your inbox, ${name}`}
      other={&lt;Trans&gt;There&#39;re &lt;strong&gt;#&lt;/strong&gt; messages in your inbox, {name}&lt;/Trans&gt;}
   /&gt;
&lt;/p&gt;
</pre></div>
</div>
<p>We can use nested macros, components, variables, expressions, really anything.</p>
<p>This gives us enough flexibility for all usecases.</p>
</div>
<div class="section" id="custom-message-id">
<h3>Custom message ID<a class="headerlink" href="#custom-message-id" title="Permalink to this headline">¶</a></h3>
<p>Let’s finish this with a short example of plurals with custom ID. We can
pass an <code class="docutils literal notranslate"><span class="pre">id</span></code> prop to <a class="reference internal" href="../ref/macro.html#jsxmacro-Plural">&lt;Plural&gt;</a> as we would to <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a>:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">Plural</span>
      <span class="na">id</span><span class="o">=</span><span class="s">&quot;Inbox.messagesCount&quot;</span>
      <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">messagesCount</span><span class="p">}</span>
      <span class="na">one</span><span class="o">=</span><span class="s">&quot;There&#39;s # message in your inbox&quot;</span>
      <span class="na">other</span><span class="o">=</span><span class="s">&quot;There&#39;re # messages in your inbox&quot;</span>
   <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="formats">
<h2>Formats<a class="headerlink" href="#formats" title="Permalink to this headline">¶</a></h2>
<p>The last message in our component is again a bit specific:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
   <span class="nx">Last</span> <span class="nx">login</span> <span class="nx">on</span> <span class="p">{</span><span class="nx">lastLogin</span><span class="p">}.</span>
<span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">lastLogin</span></code> is a date object and we need to format it properly. Dates are
formatted differently in different languages, but we don’t have
to do manually. The heavylifting is done in <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl">Intl object</a>,
we’ll just use <a class="reference internal" href="../ref/macro.html#jsxmacro-DateFormat">&lt;DateFormat&gt;</a> macro:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span>
      <span class="nx">Last</span> <span class="nx">login</span> <span class="nx">on</span> <span class="p">&lt;</span><span class="nt">DateFormat</span> <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">lastLogin</span><span class="p">}</span> <span class="p">/&gt;.</span>
   <span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>This will format the date using the conventional format for the active language.</p>
</div>
<div class="section" id="review">
<h2>Review<a class="headerlink" href="#review" title="Permalink to this headline">¶</a></h2>
<p>After all modifications, the final component with i18n looks like this:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="c1">// Inbox.js</span>
<span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Trans</span><span class="p">,</span> <span class="nx">Plural</span><span class="p">,</span> <span class="nx">DateFormat</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/macro&#39;</span>

<span class="kr">const</span> <span class="nx">Inbox</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">messages</span><span class="p">,</span> <span class="nx">markAsRead</span><span class="p">,</span> <span class="nx">user</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">messagesCount</span> <span class="o">=</span> <span class="nx">messages</span><span class="p">.</span><span class="nx">length</span>
  <span class="kr">const</span> <span class="p">{</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">lastLogin</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">user</span>

  <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span>
            <span class="nx">See</span> <span class="nx">all</span> <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">to</span><span class="o">=</span><span class="s">&quot;/unread&quot;</span><span class="p">&gt;</span><span class="nx">unread</span> <span class="nx">messages</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;{</span><span class="s2">&quot; or &quot;</span><span class="p">}</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">markAsRead</span><span class="p">}&gt;</span><span class="nx">mark</span> <span class="nx">them</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="nx">as</span> <span class="nx">read</span><span class="p">.</span>
          <span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">Plural</span>
            <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">messagesCount</span><span class="p">}</span>
            <span class="na">one</span><span class="o">=</span><span class="s">&quot;There&#39;s # message in your inbox.&quot;</span>
            <span class="na">other</span><span class="o">=</span><span class="s">&quot;There&#39;re # messages in your inbox.&quot;</span>
          <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Last</span> <span class="nx">login</span> <span class="nx">on</span> <span class="p">&lt;</span><span class="nt">DateFormat</span> <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">lastLogin</span><span class="p">}</span> <span class="p">/&gt;.&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>That’s all for this tutorial! Checkout the reference documentation or various guide
in the documentation for more info and happy internationalizing!</p>
</div>
<div class="section" id="further-reading">
<h2>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="../ref/react.html">&#64;lingui/react reference documentation</a></p></li>
<li><p><a class="reference external" href="../ref/cli.html">&#64;lingui/cli reference documentation</a></p></li>
<li><p><a class="reference external" href="../guides/plurals.html">Pluralization Guide</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="react-patterns.html" class="btn btn-neutral float-right" title="Common i18n patterns in React" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="setup-react.html" class="btn btn-neutral float-left" title="Setup with React project" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Tomáš Ehrlich

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>