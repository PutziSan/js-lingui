

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial - Internationalization of React Native apps &mdash; LinguiJS  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial - Internationalization of JavaScript apps" href="javascript.html" />
    <link rel="prev" title="Common i18n patterns in React" href="react-patterns.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-52365043-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-52365043-2');
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> LinguiJS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="setup-cra.html">Create React App</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup-react.html">React project</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="react.html">React</a></li>
<li class="toctree-l1"><a class="reference internal" href="react-patterns.html">React - common patterns</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">React Native</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#let-s-start">Let’s Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introducing-internationalization">Introducing internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#internationalization-outside-of-react-components">Internationalization Outside of React Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rendering-of-translations">Rendering of Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nesting-components">Nesting Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="#further-reading">Further reading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html">JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/typescript.html">Typescript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/excluding-build-files.html">Excluding build files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/dynamic-loading-catalogs.html">Dynamic loading of translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/optimized-components.html">Optimized components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/plurals.html">How plurals work</a></li>
</ul>
<p class="caption"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ref/core.html">Core (JavaScript)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/react.html">React</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/macro.html">Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/conf.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/loader.html">Webpack Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/catalog-formats.html">Catalog Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/message-format.html">ICU MessageFormat</a></li>
</ul>
<p class="caption"><span class="caption-text">Releases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/migration-2.html">Migration from 1.x to 2.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/migration-1.html">Migration from 0.x to 1.x</a></li>
</ul>
<p class="caption"><span class="caption-text">Discussion</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/showroom.html">Projects using LinguiJS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/react-intl.html">Comparison with react-intl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/talks-about-i18n.html">Talks and articles about i18n in JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rfc/toc.html">RFCs and design decisions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LinguiJS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Tutorial - Internationalization of React Native apps</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/lingui/js-lingui/blob/master/docs/tutorials/react-native.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial-internationalization-of-react-native-apps">
<h1>Tutorial - Internationalization of React Native apps<a class="headerlink" href="#tutorial-internationalization-of-react-native-apps" title="Permalink to this headline">¶</a></h1>
<p>In this tutorial, we’ll learn how to add internationalization
to an existing application in React Native. The React Native tutorial is largely similar to the one for <a class="reference internal" href="react.html#react-tutorial-label"><span class="std std-ref">React</span></a>, and we highly recommend you check out that tutorial first because it covers installation, setup and other topics. Here we will cover parts that are relevant for React Native and hopefully answer all questions you may have.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The latest version of <code class="docutils literal notranslate"><span class="pre">&#64;lingui/react</span></code> working out-of-the-box for React Native on Android is 2.2. Newer versions depend on the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl">Intl object</a> which is not available on the JavaScriptCore that is used on Android by default. See the <a class="reference external" href="https://github.com/react-community/jsc-android-buildscripts">JSC build scripts for Android</a> for possible solution or use the <a class="reference external" href="https://github.com/andyearnshaw/Intl.js/">Intl polyfill</a>.</p>
</div>
<p>If you’re looking for a working solution, check out the <a class="reference external" href="https://exp.host/&#64;vonovak/js-lingui-demo">demo on Expo</a>. The source code is <a class="reference external" href="https://github.com/vonovak/js-lingui-demo">available here</a>.</p>
<div class="section" id="let-s-start">
<h2>Let’s Start<a class="headerlink" href="#let-s-start" title="Permalink to this headline">¶</a></h2>
<p>We’re going to translate the following app:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">StyleSheet</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span><span class="p">,</span> <span class="nx">Alert</span><span class="p">,</span> <span class="nx">SafeAreaView</span><span class="p">,</span> <span class="nx">Button</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">App</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
 <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">return</span> <span class="p">(</span>
     <span class="p">&lt;</span><span class="nt">Inbox</span>
       <span class="na">username</span><span class="o">=</span><span class="s">&quot;John&quot;</span>
       <span class="na">markAsRead</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">showAlert</span><span class="p">}</span>
       <span class="na">messages</span><span class="o">=</span><span class="p">{[]}</span>
     <span class="p">/&gt;</span>
   <span class="p">);</span>
 <span class="p">}</span>

 <span class="nx">showAlert</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
   <span class="nx">Alert</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Do you want to set all your messages as read?&#39;</span><span class="p">);</span>
 <span class="p">};</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">Inbox</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">messages</span><span class="p">,</span> <span class="nx">markAsRead</span><span class="p">,</span> <span class="nx">username</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
 <span class="kr">const</span> <span class="nx">messagesCount</span> <span class="o">=</span> <span class="nx">messages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

 <span class="k">return</span> <span class="p">(</span>
   <span class="p">&lt;</span><span class="nt">SafeAreaView</span> <span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">container</span><span class="p">}&gt;</span>
     <span class="p">&lt;</span><span class="nt">View</span> <span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">container2</span><span class="p">}&gt;</span>
       <span class="p">&lt;</span><span class="nt">Text</span> <span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">heading</span><span class="p">}&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>

       <span class="p">&lt;</span><span class="nt">Text</span><span class="p">&gt;</span>
         <span class="nx">See</span> <span class="nx">all</span> <span class="nx">unread</span> <span class="nx">messages</span> <span class="nx">or</span>
       <span class="p">&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
       <span class="p">&lt;</span><span class="nt">Button</span> <span class="na">onPress</span><span class="o">=</span><span class="p">{</span><span class="nx">markAsRead</span><span class="p">}</span> <span class="na">title</span><span class="o">=</span><span class="s">&quot;mark messages as read&quot;</span> <span class="p">/&gt;</span>

       <span class="p">&lt;</span><span class="nt">Text</span><span class="p">&gt;</span>
         <span class="p">{</span><span class="nx">messagesCount</span> <span class="o">===</span> <span class="mi">1</span>
           <span class="o">?</span> <span class="sb">`There&#39;s {messagesCount} message in your inbox.`</span>
           <span class="o">:</span> <span class="sb">`There&#39;re </span><span class="si">${</span><span class="nx">messagesCount</span><span class="si">}</span><span class="sb"> messages in your inbox.`</span><span class="p">}</span>
       <span class="p">&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
     <span class="p">&lt;/</span><span class="nt">View</span><span class="p">&gt;</span>

     <span class="p">&lt;</span><span class="nt">Text</span><span class="p">&gt;{</span><span class="nx">username</span><span class="p">}.&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">SafeAreaView</span><span class="p">&gt;</span>
 <span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>As you can see, it’s a simple mailbox application with only one screen.</p>
</div>
<div class="section" id="introducing-internationalization">
<h2>Introducing internationalization<a class="headerlink" href="#introducing-internationalization" title="Permalink to this headline">¶</a></h2>
<p>Not surprisingly, this part isn’t too different from the <a class="reference internal" href="react.html#react-tutorial-label"><span class="std std-ref">React tutorial</span></a>.</p>
<p>Let’s use the <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> macro first. Don’t forget that we need to wrap our root
component with the <a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a> so we can set the active language
and load catalogs:</p>
<p>Let’s translate the screen heading:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">I18nProvider</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/react&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Trans</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/macro&#39;</span>

<span class="p">&lt;</span><span class="nt">I18nProvider</span> <span class="na">language</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">YourRootComponent</span> <span class="na">someProp</span><span class="o">=</span><span class="s">&quot;someValue&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">I18nProvider</span><span class="p">&gt;</span>

<span class="c1">// later on somewhere deep in the React component tree:</span>
<span class="p">&lt;</span><span class="nt">Text</span> <span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">heading</span><span class="p">}&gt;&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>This was easy. Now, the next step is to translate the <code class="docutils literal notranslate"><span class="pre">title</span></code> prop of the
<code class="docutils literal notranslate"><span class="pre">&lt;Button&gt;</span></code> component. But wait a sec, the button expects to receive a <code class="docutils literal notranslate"><span class="pre">string</span></code>, so
we cannot use the <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> macro here! Also notice that the <code class="docutils literal notranslate"><span class="pre">Alert.alert</span></code>
call requires a string as well.</p>
<p>Luckily, there is a simple solution: the <a class="reference internal" href="../ref/react.html#component-I18n">&lt;I18n&gt;</a> is a render prop component
which gives us an <code class="docutils literal notranslate"><span class="pre">i18n</span></code> prop that we can use like this: <code class="docutils literal notranslate"><span class="pre">i18n._(t`this</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">translated`)</span></code>
and the result of such a call is a string. Let’s see how to do this!</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The <code class="docutils literal notranslate"><span class="pre">i18n</span></code> object is covered in greater detail in the <a class="reference internal" href="javascript.html#js-tutorial-label"><span class="std std-ref">JavaScript tutorial</span></a>.</p>
</div>
<p>Under the hood, <a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a> creates an instance of the <code class="docutils literal notranslate"><span class="pre">i18n</span></code> object
automatically and passes it to <a class="reference internal" href="../ref/react.html#component-Trans">&lt;Trans&gt;</a> components through React Context.
The <a class="reference internal" href="../ref/react.html#component-Trans">&lt;Trans&gt;</a> components then use the instance to get the translations from it.
If we cannot use the <a class="reference internal" href="../ref/react.html#component-Trans">&lt;Trans&gt;</a> component, we can use the <code class="docutils literal notranslate"><span class="pre">I18n</span></code> render prop
component to get hold of the <code class="docutils literal notranslate"><span class="pre">i18n</span></code> object ourselves and get the translations from it.</p>
<p>So, we need to do two things: first, we need to setup the <a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a> and
then we can use the <code class="docutils literal notranslate"><span class="pre">I18n</span></code> render prop component, as shown in the following simplified
example:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">I18nProvider</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/react&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">Trans</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/macro&#39;</span>

<span class="p">&lt;</span><span class="nt">I18nProvider</span> <span class="na">language</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">YourRootComponent</span> <span class="na">someProp</span><span class="o">=</span><span class="s">&quot;someValue&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">I18nProvider</span><span class="p">&gt;</span>

<span class="kr">const</span> <span class="nx">Inbox</span> <span class="o">=</span> <span class="p">(({</span> <span class="nx">markAsRead</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">View</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">View</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">Text</span> <span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">heading</span><span class="p">}&gt;</span>
          <span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">See</span> <span class="nx">all</span> <span class="nx">unread</span> <span class="nx">messages</span> <span class="nx">or</span><span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
        <span class="p">{</span><span class="cm">/* you can also use the withI18n HOC */</span><span class="p">}</span>
        <span class="p">&lt;</span><span class="nt">I18n</span><span class="p">&gt;</span>
          <span class="p">{({</span> <span class="nx">i18n</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nt">Button</span> <span class="na">onPress</span><span class="o">=</span><span class="p">{</span><span class="nx">markAsRead</span><span class="p">}</span> <span class="na">title</span><span class="o">=</span><span class="p">{</span><span class="nx">i18n</span><span class="p">.</span><span class="nx">_</span><span class="p">(</span><span class="nx">t</span><span class="sb">`mark messages as read`</span><span class="p">)}</span> <span class="p">/&gt;</span>
          <span class="p">)}</span>
        <span class="p">&lt;/</span><span class="nt">I18n</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">View</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">});</span>

<span class="c1">// later on somewhere deep in the React component tree:</span>
<span class="p">&lt;</span><span class="nt">Inbox</span> <span class="na">markAsRead</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">showAlert</span><span class="p">}</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are several ways to render translations: You may use the the <a class="reference internal" href="../ref/react.html#component-Trans">&lt;Trans&gt;</a> component, the <code class="docutils literal notranslate"><span class="pre">withI18n</span></code> HOC or the <a class="reference internal" href="../ref/react.html#component-I18n">&lt;I18n&gt;</a> component that provides a render prop. The important thing about all of these approaches is that when you change the active language (through the <code class="docutils literal notranslate"><span class="pre">language</span></code> prop passed to <a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a>), all the components that show translated text will re-render, making sure the UI shows the correct translations. All of these approaches are equivalent in their result.</p>
</div>
</div>
<div class="section" id="internationalization-outside-of-react-components">
<h2>Internationalization Outside of React Components<a class="headerlink" href="#internationalization-outside-of-react-components" title="Permalink to this headline">¶</a></h2>
<p>Until now, we have covered the <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> macro and the <a class="reference internal" href="../ref/react.html#component-I18n">&lt;I18n&gt;</a> render
prop component. Using them will make sure our components are always in sync with the
currently active language.</p>
<p>However, often you’ll need to show localized strings outside of React, for example when
you want to show a toast from some business logic code. In that case you’ll also need
access to the <code class="docutils literal notranslate"><span class="pre">i18n</span></code> object, but you don’t want to pass it around from some component’s
props. At this point, we need to turn our attention to the <code class="docutils literal notranslate"><span class="pre">&#64;lingui/core</span></code> package,
namely the <a class="reference internal" href="../ref/core.html#setupI18n" title="setupI18n"><code class="xref js js-func docutils literal notranslate"><span class="pre">setupI18n()</span></code></a> method which returns an <code class="docutils literal notranslate"><span class="pre">i18n</span></code> object.</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">setupI18n</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@lingui/core&#39;</span><span class="p">;</span>

<span class="c1">// this file is generated by the cli</span>
<span class="kr">import</span> <span class="nx">enMessages</span> <span class="nx">from</span> <span class="s1">&#39;./locale/en/messages.js&#39;</span><span class="p">;</span>

<span class="c1">// import this constant as get translations from it outside of React</span>
<span class="kr">export</span> <span class="kr">const</span> <span class="nx">i18n</span> <span class="o">=</span> <span class="nx">setupI18n</span><span class="p">({</span>
 <span class="nx">language</span><span class="o">:</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span>
 <span class="nx">catalogs</span><span class="o">:</span> <span class="p">{</span>
   <span class="nx">en</span><span class="o">:</span> <span class="nx">enMessages</span><span class="p">,</span>
 <span class="p">},</span>
<span class="p">});</span>
</pre></div>
</div>
<p>As explained before, <a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a> creates an instance of the <code class="docutils literal notranslate"><span class="pre">i18n</span></code> object
automatically and passes it to <a class="reference internal" href="../ref/react.html#component-Trans">&lt;Trans&gt;</a> components through React Context.
Since we created the <code class="docutils literal notranslate"><span class="pre">i18n</span></code> instance by ourselves, we need to pass it to the
<a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a> as a prop. This way we tell it not to create a new instance
but use the one we provide, like this:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">I18nProvider</span> <span class="na">i18n</span><span class="o">=</span><span class="p">{</span><span class="mi">18</span><span class="nx">n</span><span class="p">}</span> <span class="na">language</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">YourRootComponent</span> <span class="na">someProp</span><span class="o">=</span><span class="s">&quot;someValue&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">I18nProvider</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Now we’re ready to show correctly translated strings anywhere in our app! Just import
the <code class="docutils literal notranslate"><span class="pre">i18n</span></code> object into your non-react code and use it, for example like this:
<code class="docutils literal notranslate"><span class="pre">i18n._(t`this</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">translated`)</span></code>.</p>
<p>The last remaining piece of the puzzle is changing the active language. The <code class="docutils literal notranslate"><span class="pre">i18n</span></code>
object exposes two methods for that: <code class="docutils literal notranslate"><span class="pre">i18n.load(catalogs)</span></code> and <code class="docutils literal notranslate"><span class="pre">i18n.activate(language)</span></code>.
Just call the two methods, pass the changed <code class="docutils literal notranslate"><span class="pre">i18n</span></code> object and the new active language
to the <a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a> and <code class="docutils literal notranslate"><span class="pre">js-lingui</span></code> takes care of the rest. It all becomes
clear when you take a look at the <a class="reference external" href="https://github.com/vonovak/js-lingui-demo/blob/master/App.js">final code</a>.</p>
</div>
<div class="section" id="rendering-of-translations">
<h2>Rendering of Translations<a class="headerlink" href="#rendering-of-translations" title="Permalink to this headline">¶</a></h2>
<p>As described in the <a class="reference internal" href="../ref/react.html#rendering-translations"><span class="std std-ref">reference</span></a>, by default, translation components render translation as a text without a wrapping tag. In React Native though, all text must be wrapped in the &lt;Text&gt; component. This means we would need to use the <a class="reference internal" href="../ref/react.html#component-Trans">&lt;Trans&gt;</a> component like this:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Text</span><span class="p">&gt;&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>You’ll surely agree the &lt;Text&gt; component looks a little redundant. That’s why the <a class="reference internal" href="../ref/react.html#component-I18nProvider">&lt;I18nProvider&gt;</a> component accepts a <code class="docutils literal notranslate"><span class="pre">defaultRender</span></code> prop. Just supply the &lt;Text&gt; component as the <code class="docutils literal notranslate"><span class="pre">defaultRender</span></code> prop and the previous example can be simplified to:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span><span class="nx">Message</span> <span class="nx">Inbox</span><span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Alternatively, you may override the default locally on the i18n components, using the <code class="docutils literal notranslate"><span class="pre">render</span></code> prop. This is also documented in the <a class="reference internal" href="../ref/react.html#rendering-translations"><span class="std std-ref">reference</span></a>.</p>
</div>
<div class="section" id="nesting-components">
<h2>Nesting Components<a class="headerlink" href="#nesting-components" title="Permalink to this headline">¶</a></h2>
<p>It is worth mentioning that the <a class="reference internal" href="../ref/macro.html#jsxmacro-Trans">&lt;Trans&gt;</a> macro and &lt;Text&gt; component
may be nested, for example to achieve the effect shown in the picture. This is thanks to
how React Native <a class="reference external" href="https://facebook.github.io/react-native/docs/text#nested-text">handles nested text</a>.</p>
<img alt="../_images/rn-component-nesting.png" src="../_images/rn-component-nesting.png" />
<p>This can be achieved by the following code:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">Text</span> <span class="na">style</span><span class="o">=</span><span class="p">{{</span> <span class="nx">fontSize</span><span class="o">:</span> <span class="mi">20</span> <span class="p">}}&gt;</span>
    <span class="p">&lt;</span><span class="nt">Text</span><span class="p">&gt;</span><span class="nx">Concert</span> <span class="k">of</span> <span class="p">&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Text</span> <span class="na">style</span><span class="o">=</span><span class="p">{{</span> <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;green&#39;</span> <span class="p">}}&gt;</span><span class="nx">Green</span> <span class="nx">Day</span><span class="p">&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Text</span> <span class="na">style</span><span class="o">=</span><span class="p">{{</span> <span class="nx">fontWeight</span><span class="o">:</span> <span class="s1">&#39;bold&#39;</span> <span class="p">}}&gt;</span> <span class="nx">tonight</span><span class="o">!</span><span class="p">&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">Text</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>The extracted string for translation will look like this:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;&lt;0&gt;&lt;1&gt;Concert</span> <span class="pre">of</span> <span class="pre">&lt;/1&gt;&lt;2&gt;Green</span> <span class="pre">Day&lt;/2&gt;&lt;3&gt;</span> <span class="pre">tonight!&lt;/3&gt;&lt;/0&gt;&quot;</span></code></p>
<p>The important point here is that the sentence isn’t broken into pieces but remains together - that will allow the translator to deliver a quality result.</p>
</div>
<div class="section" id="further-reading">
<h2>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="../ref/react.html">&#64;lingui/react reference documentation</a></p></li>
<li><p><a class="reference external" href="../ref/cli.html">&#64;lingui/cli reference documentation</a></p></li>
<li><p><a class="reference external" href="../guides/plurals.html">Pluralization Guide</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="javascript.html" class="btn btn-neutral float-right" title="Tutorial - Internationalization of JavaScript apps" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="react-patterns.html" class="btn btn-neutral float-left" title="Common i18n patterns in React" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Tomáš Ehrlich

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>