

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Migration guide from 0.x to 1.x &mdash; LinguiJS  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Projects using LinguiJS" href="../misc/showroom.html" />
    <link rel="prev" title="Migration guide from 1.x to 2.x" href="migration-2.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-52365043-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-52365043-2');
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> LinguiJS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/setup-cra.html">Create React App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/setup-react.html">React project</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/react.html">React</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/react-patterns.html">React - common patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/react-native.html">React Native</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/javascript.html">JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/cli.html">CLI</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/typescript.html">Typescript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/excluding-build-files.html">Excluding build files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/dynamic-loading-catalogs.html">Dynamic loading of translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/optimized-components.html">Optimized components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/plurals.html">How plurals work</a></li>
</ul>
<p class="caption"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ref/core.html">Core (JavaScript)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/react.html">React</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/macro.html">Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/conf.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/loader.html">Webpack Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/catalog-formats.html">Catalog Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/message-format.html">ICU MessageFormat</a></li>
</ul>
<p class="caption"><span class="caption-text">Releases</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="migration-2.html">Migration from 1.x to 2.x</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Migration from 0.x to 1.x</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#newline-normalization-in-babel-plugins">Newline normalization in Babel plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="#javascript-api-lingui-i18n">Javascript API (<code class="docutils literal notranslate"><span class="pre">lingui-i18n</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#i18n-constructor-replaced-with-factory-function">I18n constructor replaced with factory function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#explicit-development-mode">Explicit development mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#messages-replaced-with-catalogs">Messages replaced with catalogs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#react-api-lingui-react">React API (<code class="docutils literal notranslate"><span class="pre">lingui-react</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cli-lingui-cli">CLI (lingui-cli)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Discussion</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/showroom.html">Projects using LinguiJS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/react-intl.html">Comparison with react-intl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/talks-about-i18n.html">Talks and articles about i18n in JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rfc/toc.html">RFCs and design decisions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LinguiJS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Migration guide from 0.x to 1.x</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/lingui/js-lingui/blob/master/docs/releases/migration-1.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="migration-guide-from-0-x-to-1-x">
<h1>Migration guide from 0.x to 1.x<a class="headerlink" href="#migration-guide-from-0-x-to-1-x" title="Permalink to this headline">¶</a></h1>
<p>Even though only a few projects use <a class="reference external" href="https://github.com/lingui/js-lingui">LinguiJS</a> at the moment, the purpose of
this guide is to setup a high-quality migration path for future major versions.</p>
<div class="section" id="newline-normalization-in-babel-plugins">
<h2>Newline normalization in Babel plugins<a class="headerlink" href="#newline-normalization-in-babel-plugins" title="Permalink to this headline">¶</a></h2>
<p>Formatting of the source code shouldn’t affect generated messages.
Both Babel plugins will normalize newlines inside translations.</p>
<p>In Javascript, multiple spaces before and after newline are replaced with
single space, while newlines are removed completely:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span> <span class="nx">i18n</span><span class="p">.</span><span class="nx">t</span><span class="sb">`</span>
<span class="sb">   This message is wrapped</span>
<span class="sb">   on multiple</span>
<span class="sb">   lines</span>
<span class="sb">`</span>

 <span class="c1">// babel-plugin-lingui-transform-js 0.x</span>
 <span class="s2">&quot;This message is wrapped\n  on multiple\n  lines&quot;</span>

 <span class="c1">// babel-plugin-lingui-transform-js 1.x</span>
 <span class="s2">&quot;This message is wrapped on multiple lines&quot;</span>
</pre></div>
</div>
<p>Newline normalization in React follows JSX conventions: newlines between text
are replaced with single space, but newlines between components or between text
and a component are removed and no space is added:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span>
  <span class="nx">This</span> <span class="nx">message</span> <span class="nx">is</span> <span class="nx">wrapped</span>
  <span class="nx">on</span> <span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;</span><span class="nx">multiple</span><span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">lines</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>

<span class="c1">// babel-plugin-lingui-transform-react 0.x</span>
<span class="s2">&quot;This message is wrapped\n  on &lt;em&gt;multiple&lt;em&gt;\n  &lt;0&gt;lines&lt;/0&gt;&quot;</span>

<span class="c1">// babel-plugin-lingui-transform-react 1.x</span>
<span class="s2">&quot;This message is wrapped on &lt;0&gt;multiple&lt;0&gt;&lt;1&gt;lines&lt;/1&gt;&quot;</span>
</pre></div>
</div>
<p>As weird as it is, this is consistent with how JSX works. If you need to force
a space at the end of a line, add <code class="docutils literal notranslate"><span class="pre">{&quot;</span> <span class="pre">&quot;}</span></code>:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Trans</span><span class="p">&gt;</span>
  <span class="nx">This</span> <span class="nx">message</span> <span class="nx">is</span> <span class="nx">wrapped</span>
  <span class="nx">on</span> <span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;</span><span class="nx">multiple</span><span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;{</span><span class="s2">&quot; &quot;</span><span class="p">}</span>
  <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">lines</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">Trans</span><span class="p">&gt;</span>

<span class="c1">// This will result in:</span>
<span class="s2">&quot;This message is wrapped on &lt;0&gt;multiple&lt;0&gt; &lt;1&gt;lines&lt;/1&gt;&quot;</span>
</pre></div>
</div>
<p>This change won’t break the code, but it’s necessary to update message catalogs.</p>
</div>
<div class="section" id="javascript-api-lingui-i18n">
<h2>Javascript API (<code class="docutils literal notranslate"><span class="pre">lingui-i18n</span></code>)<a class="headerlink" href="#javascript-api-lingui-i18n" title="Permalink to this headline">¶</a></h2>
<div class="section" id="i18n-constructor-replaced-with-factory-function">
<h3>I18n constructor replaced with factory function<a class="headerlink" href="#i18n-constructor-replaced-with-factory-function" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">I18n</span></code> constructor has been replaced with the <code class="docutils literal notranslate"><span class="pre">setupI18n</span></code> factory function:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">setupI18n</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;lingui-i18n&#39;</span>

<span class="c1">// lingui-i18n 0.x</span>
<span class="kr">const</span> <span class="nx">i18n</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">I18n</span><span class="p">(</span>
  <span class="nx">language</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>
  <span class="nx">messages</span><span class="o">:</span> <span class="p">{[</span><span class="nx">language</span><span class="o">:</span> <span class="nx">string</span><span class="p">]</span><span class="o">:</span> <span class="nx">Messages</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1">// lingui-i18n 1.x</span>
<span class="kr">const</span> <span class="nx">i18n</span> <span class="o">=</span> <span class="nx">setupI18n</span><span class="p">({</span>
  <span class="nx">language</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>
  <span class="nx">catalogs</span><span class="o">?:</span> <span class="p">{</span>
    <span class="p">{[</span><span class="nx">language</span><span class="o">:</span> <span class="nx">string</span><span class="p">]}</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">messages</span><span class="o">:</span> <span class="nx">Messages</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">development</span><span class="o">?:</span> <span class="nx">Development</span>
<span class="p">})</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">messages</span></code> were also replaced with <code class="docutils literal notranslate"><span class="pre">catalogs</span></code>, more info
<a class="reference internal" href="#migration1-messages-catalogs"><span class="std std-ref">below</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">lingui-i18n</span></code> still exports the default instance of <code class="docutils literal notranslate"><span class="pre">I18n</span></code> class, but as
a named export:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// lingui-i18n 0.x</span>
<span class="c1">// also works in lingui-i18n 1.x, but deprecated</span>
<span class="kr">import</span> <span class="nx">i18n</span> <span class="nx">from</span> <span class="s1">&#39;lingui-i18n&#39;</span>

<span class="c1">// lingui-i18n 1.1</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">i18n</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;lingui-i18n&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="explicit-development-mode">
<h3>Explicit development mode<a class="headerlink" href="#explicit-development-mode" title="Permalink to this headline">¶</a></h3>
<p>The biggest change in this first major release is support for compiled message
catalogs. Most i18n libraries parse and compile messages on the fly,
which makes them heavy and slow. The compiler is still useful in
development, but now it has to be enabled manually:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">setupI18n</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;lingui-i18n&#39;</span>

<span class="kr">const</span> <span class="nx">dev</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">!==</span> <span class="s1">&#39;production&#39;</span>
  <span class="c1">// this import is required in development only</span>
  <span class="o">?</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;lingui-i18n/dev&#39;</span><span class="p">)</span>
  <span class="o">:</span> <span class="kc">null</span>

<span class="kr">const</span> <span class="nx">i18n</span> <span class="o">=</span> <span class="nx">setupI18n</span><span class="p">({</span>
  <span class="nx">language</span><span class="o">:</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span>
  <span class="nx">development</span><span class="o">:</span> <span class="nx">dev</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Development data includes compiler and plural rules for all languages. Both
are very large and unnecessary in production, because <code class="docutils literal notranslate"><span class="pre">lingui-i18n</span></code>
supports loading of compiled message catalogs.</p>
</div>
<div class="section" id="messages-replaced-with-catalogs">
<span id="migration1-messages-catalogs"></span><h3>Messages replaced with catalogs<a class="headerlink" href="#messages-replaced-with-catalogs" title="Permalink to this headline">¶</a></h3>
<p>Plural rules are removed from library completely, because compiled message
catalogs contain language-specific data, including plural rules. <code class="docutils literal notranslate"><span class="pre">messages</span></code>
were replaced with <code class="docutils literal notranslate"><span class="pre">catalogs</span></code> to simplify loading all required data:</p>
<p>In previous version, loading of messages looked like this (<code class="docutils literal notranslate"><span class="pre">lingui-i18n</span> <span class="pre">1.x</span></code>):</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// lingui-i18n 0.x</span>
<span class="nx">type</span> <span class="nx">Messages</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">messageId</span><span class="o">:</span> <span class="nx">string</span><span class="p">]</span><span class="o">:</span> <span class="nx">string</span>
<span class="p">}</span>

<span class="nx">type</span> <span class="nx">AllMessages</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">language</span><span class="o">:</span> <span class="nx">string</span><span class="p">]</span><span class="o">:</span> <span class="nx">Messages</span>
<span class="p">}</span>

<span class="c1">// setupI18n({ messages: AllMessages })</span>
<span class="kr">const</span> <span class="nx">i18n</span> <span class="o">=</span> <span class="nx">setupI18n</span><span class="p">({</span>
  <span class="nx">messages</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">en</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">msg</span><span class="o">:</span> <span class="s1">&#39;Hello&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// i18n.load(messages: AllMessages)</span>
<span class="nx">i18n</span><span class="p">.</span><span class="nx">load</span><span class="p">({</span>
  <span class="nx">en</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">msg</span><span class="o">:</span> <span class="s1">&#39;Hello&#39;</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Now it looks like this (<code class="docutils literal notranslate"><span class="pre">lingui-i18n</span> <span class="pre">1.x</span></code>):</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">type</span> <span class="nx">Messages</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// support both static and compiled messages</span>
  <span class="p">[</span><span class="nx">messageId</span><span class="o">:</span> <span class="nx">string</span><span class="p">]</span><span class="o">:</span> <span class="nx">string</span> <span class="o">|</span> <span class="nb">Function</span>
<span class="p">}</span>

<span class="nx">type</span> <span class="nx">Catalog</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">messages</span><span class="o">:</span> <span class="nx">Messages</span><span class="p">,</span>
  <span class="nx">languageData</span><span class="o">:</span> <span class="p">{</span>
    <span class="c1">// required in production</span>
    <span class="nx">plurals</span><span class="o">:</span> <span class="nb">Function</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">type</span> <span class="nx">Catalogs</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">language</span><span class="o">:</span> <span class="nx">string</span><span class="p">]</span><span class="o">:</span> <span class="nx">Catalog</span>
<span class="p">}</span>

<span class="c1">// setupI18n({ catalogs: Catalogs })</span>
<span class="kr">const</span> <span class="nx">i18n</span> <span class="o">=</span> <span class="nx">setupI18n</span><span class="p">({</span>
  <span class="nx">catalogs</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">en</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">messages</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">msg</span><span class="o">:</span> <span class="s1">&#39;Hello&#39;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// i18n.load(catalogs: Catalogs)</span>
<span class="nx">i18n</span><span class="p">.</span><span class="nx">load</span><span class="p">({</span>
  <span class="nx">en</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">messages</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">msg</span><span class="o">:</span> <span class="s1">&#39;Hello&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
<p>More about [loading message catalogs]().</p>
</div>
</div>
<div class="section" id="react-api-lingui-react">
<h2>React API (<code class="docutils literal notranslate"><span class="pre">lingui-react</span></code>)<a class="headerlink" href="#react-api-lingui-react" title="Permalink to this headline">¶</a></h2>
<p>Changes in React API reflect changes in underlying core <code class="docutils literal notranslate"><span class="pre">lingui-i18n</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">InjectI18n</span></code> was removed and replaced with <code class="docutils literal notranslate"><span class="pre">withI18n</span></code> decorator. Loading
<code class="docutils literal notranslate"><span class="pre">InjectI18n</span></code> in recent versions of <code class="docutils literal notranslate"><span class="pre">lingui-react&#64;&lt;1.0.0</span></code> would raise a
deprecation warning in console.</p>
<p>Development data must be loaded explicitly. It works in the same way as in
<code class="docutils literal notranslate"><span class="pre">lingui-i18n</span></code>:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">I18nProvider</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;lingui-react&#39;</span>

<span class="kr">const</span> <span class="nx">dev</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">!==</span> <span class="s1">&#39;production&#39;</span>
  <span class="c1">// this import is required in development only</span>
  <span class="o">?</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;lingui-i18n/dev&#39;</span><span class="p">)</span>
  <span class="o">:</span> <span class="kc">null</span>

<span class="kr">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="p">&lt;</span><span class="nt">I18nProvider</span> <span class="na">language</span><span class="o">=</span><span class="s">&quot;en&quot;</span> <span class="na">development</span><span class="o">=</span><span class="p">{</span><span class="nx">dev</span><span class="p">}&gt;</span>
        <span class="p">&lt;</span><span class="nt">Content</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">I18nProvider</span><span class="p">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also, messages were replaced with catalogs:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">I18nProvider</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;lingui-react&#39;</span>

<span class="kr">const</span> <span class="nx">dev</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">!==</span> <span class="s1">&#39;production&#39;</span>
  <span class="c1">// this import is required in development only</span>
  <span class="o">?</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;lingui-i18n/dev&#39;</span><span class="p">)</span>
  <span class="o">:</span> <span class="kc">null</span>

<span class="kr">const</span> <span class="nx">catalog</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">messages</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">msg</span><span class="o">:</span> <span class="s2">&quot;Hello&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="p">&lt;</span><span class="nt">I18nProvider</span> <span class="na">language</span><span class="o">=</span><span class="s">&quot;en&quot;</span> <span class="na">catalogs</span><span class="o">=</span><span class="p">{{</span> <span class="nx">en</span><span class="o">:</span> <span class="nx">catalog</span> <span class="p">}}</span> <span class="na">development</span><span class="o">=</span><span class="p">{</span><span class="nx">dev</span><span class="p">}&gt;</span>
        <span class="p">&lt;</span><span class="nt">Content</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">I18nProvider</span><span class="p">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="cli-lingui-cli">
<h2>CLI (lingui-cli)<a class="headerlink" href="#cli-lingui-cli" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">lingui</span> <span class="pre">export</span></code> command now creates a more complex message catalog, which contains
not only translations, but also default messages (if any) and locations from where
the strings were extracted.</p>
<p>Running <code class="docutils literal notranslate"><span class="pre">lingui</span> <span class="pre">export</span></code> will generate the new-style catalog while merging translations
from the old one. This process is completely seamless. However, any external
tool must be updates to accept the new-style catalogs.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../misc/showroom.html" class="btn btn-neutral float-right" title="Projects using LinguiJS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="migration-2.html" class="btn btn-neutral float-left" title="Migration guide from 1.x to 2.x" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Tomáš Ehrlich

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>